function loadScript(t, e) { var o = document.createElement("script"); o.type = "text/javascript", o.onload = e, o.src = t, document.head.appendChild(o) } loadScript("https://cdn.kyteapp.com/$web/kyte-analytics-short-unique-id.js", (function () { const t = { utm_campaign: window.location.pathname, referrer: document.referrer }, e = ["aid", "kid", "pkid", "cid", "email", "fbclid", "gclid"]; function o(t, e) { try { const o = new URL(t); return Object.keys(e).forEach((t => o.searchParams.set(t, e[t]))), o.searchParams.set("cacheBust", Date.now()), o.toString() } catch (e) { return console.error("Error in addParams:", e), t } } function a(e, o) { const a = function (e) { const o = "https://kyteapp.page.link/", a = t.utm_source || "", c = t.utm_medium || ""; let n = t.utm_campaign || ""; n = n.replace(/\//g, "_"); const i = new URLSearchParams({ utm_source: a, utm_medium: c, utm_campaign: n }).toString(); let r, s = `https://web.kyteapp.com/login?${encodeURIComponent(i)}`; return r = e.classList.contains("catalog-redir") ? `${o}?link=${s}&apn=com.kyte.catalog&ibi=com.kytecatalog&isi=6462521196&utm_source=${a}&utm_medium=${c}&utm_campaign=${n}&pt=120346822&ct=${a}_${c}_${n}&mt=8` : e.classList.contains("control-redir") ? `${o}?link=${s}&apn=com.kytecontrol&ibi=com.kytecontrol&isi=6472947922&utm_source=${a}&utm_medium=${c}&utm_campaign=${n}&pt=120346822&ct=${a}_${c}_${n}&mt=8` : `${o}?link=${s}&apn=com.kyte&ibi=com.kytepos&isi=1345983058&utm_source=${a}&utm_medium=${c}&utm_campaign=${n}&pt=120346822&ct=${a}_${c}_${n}&mt=8`, r }(o), c = e.querySelector('input[name="_redir"]'); c && (c.value = a) } "function" == typeof ShortUniqueId ? (document.addEventListener("click", (function (t) { const e = t.target; if (e.matches(".catalog-redir, .control-redir")) { t.preventDefault(); const o = e.closest("form"); o && (a(o, e), o.submit()) } })), function (o = {}, a = function () { }) { try { if (Object.keys(o).forEach((e => { t[e] = o[e], localStorage.setItem(e, o[e]) })), e.forEach((e => { if (!t[e]) { const o = localStorage.getItem(e); o && (t[e] = o) } })), document.cookie.split(";").forEach((o => { const [a, c] = o.trim().split("="), n = "_ga" === a ? "cid" : a; e.includes(n) && !t[n] && c && (t[n] = c) })), e.every((e => !t[e]))) { const e = new ShortUniqueId({ length: 15 }); t.pkid = e.rnd() + Date.now(), localStorage.setItem("pkid", t.pkid) } const c = localStorage.getItem("aidMatchDate"); if (c && (t.aidMatchDate = c), Object.keys(t).forEach((e => { localStorage.setItem(`k_${e}`, t[e]) })), "object" == typeof dataLayer && dataLayer.push({ event: "AttributionDataUpdated" }), c && t.kid) return void a(t.kid); const n = new XMLHttpRequest; n.open("post", "https://kyte-api-gateway.azure-api.net/get-kyte-id"), n.setRequestHeader("Content-Type", "application/json;charset=UTF-8"), n.onreadystatechange = function () { if (n.readyState === XMLHttpRequest.DONE && n.responseText) { const e = JSON.parse(n.responseText), o = e.kid; localStorage.getItem("kid") !== o && (t.kid = o, localStorage.setItem("kid", o), "object" == typeof dataLayer && dataLayer.push({ event: "KidIdentify", kid: o })), e.aidMatchDate && localStorage.setItem("aidMatchDate", e.aidMatchDate), a(o) } }, n.send(JSON.stringify(t)) } catch (t) { console.error("Error in getKid:", t) } }({ url: window.location.href }, (function () { const e = document.querySelectorAll("input"); for (const o of e) { const e = o.getAttribute("name"); e && t[e] && (o.value = t[e]) } const a = document.getElementsByTagName("a"); for (const e of a) -1 === e.href.indexOf(window.location.href) && (e.href = o(e.href, t)) }))) : console.error("ShortUniqueId module failed to load") }));