async function fetchConfigAndInit() { try { const t = "https://growthatkyte.github.io/web/scripts/landing-pages-list.json", e = await fetch(t); if (!e.ok) throw new Error("Failed to load landing pages configuration"); const i = await e.json(); document.addEventListener("DOMContentLoaded", (() => { applyRedirectClasses(i), loadScript("https://cdn.kyteapp.com/$web/kyte-analytics-short-unique-id.js", (() => console.log("Tracking initialized"))) })), document.addEventListener("click", (t => handleRedirection(t, i))) } catch (t) { console.error("Error initializing landing pages:", t) } } function applyRedirectClasses(t) { const e = window.location.pathname, i = document.querySelectorAll('input[type="submit"], button[type="submit"]'), n = t[e]; n && n.redirectClass && i.forEach((t => { t.classList.add(n.redirectClass) })) } function handleRedirection(t, e) { const i = t.target; if (i.matches(".catalog-redir, .control-redir, .cpp-redir")) { t.preventDefault(); const n = e[window.location.pathname]; if (!n) return; constructAndRedirect(n, extractAndStoreUTMParams(), i.classList.contains("cpp-redir")) } } function constructAndRedirect(t, e, i) { const n = `utm_source=${e.utm_source}&utm_medium=${e.utm_medium}&utm_campaign=${e.utm_campaign}`, o = encodeURIComponent(n); let c; if (i) { if (isMobileDevice()) return void (window.location.href = isIOSDevice() ? t.ios : t.android); c = `https://web.kyteapp.com/login?${n}` } else { const i = e.utm_campaign.replace(/\/$/, ""); let n = t.redirectClass, a = "com.kyte", r = "com.kytepos", s = "1345983058", d = `default_${i}`; "control-redir" === n ? (a = "com.kytecontrol", r = "com.kytecontrol", s = "6472947922", d = `control_${i}`) : "catalog-redir" === n && (a = "com.kyte.catalog", r = "com.kytecatalog", s = "6462521196", d = `catalog_${i}`), c = `https://kyteapp.page.link/?link=${o}&apn=${a}&ibi=${r}&isi=${s}&utm_source=${e.utm_source}&utm_medium=${e.utm_medium}&utm_campaign=${e.utm_campaign}&pt=120346822&ct=${d}&mt=8` } window.location.href = c } fetchConfigAndInit();